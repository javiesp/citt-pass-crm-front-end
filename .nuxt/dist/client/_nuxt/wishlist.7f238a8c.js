import{_ as x,d as L,a as t,e as f,f as e,w as o,h as u,F as w,r as g,o as j,b as _,k as r,i as S,j as q,t as m,g as F,v as M}from"./entry.bc374d72.js";import{g as U}from"./wishlistApi.b9eacd87.js";import"./axios.4d564c32.js";const G=L({name:"WishlistCard",setup(){const n=g(!1),a=g([]),D=["Inventario Alpha","Inventario Beta","Inventario Gamma"],h=g(null),v=g({}),I=async()=>{try{const i=await U();a.value=i.data}catch(i){console.error("Error fetching wishlists:",i)}},k=()=>{console.log("Selected Inventory:",h.value)},s=()=>{console.log("Download PDF")},d=i=>{v.value[i]=!v.value[i]};return j(()=>{I()}),{dialog:n,wishlistArray:a,inventoryNames:D,selectedInventory:h,showDetails:v,selectInventoryId:k,downloadPdf:s,toggleDetails:d}}}),O=u("h2",null,"Lista de deseos",-1),R=u("br",null,null,-1),T=u("span",null,"Confirmar Eliminación",-1),z={class:"pa-4 text-center"};function H(n,a,D,h,v,I){const k=t("v-combobox"),s=t("v-col"),d=t("v-btn"),i=t("v-row"),B=t("v-img"),V=t("v-card-title"),E=t("v-card-subtitle"),$=t("v-spacer"),C=t("v-card-actions"),P=t("v-divider"),y=t("v-card-text"),N=t("v-expand-transition"),W=t("v-icon"),b=t("v-card"),A=t("v-dialog"),p=t("v-text-field");return _(),f(w,null,[O,R,e(i,{class:"month-table"},{default:o(()=>[e(s,{cols:"3"},{default:o(()=>[e(k,{modelValue:n.selectedInventory,"onUpdate:modelValue":a[0]||(a[0]=l=>n.selectedInventory=l),items:n.inventoryNames,label:"Proyecto",outlined:"",onChange:n.selectInventoryId},null,8,["modelValue","items","onChange"])]),_:1}),e(s,{cols:"3"},{default:o(()=>[e(d,{variant:"tonal",color:"primary",onClick:n.downloadPdf},{default:o(()=>[r("Generar archivo .csv")]),_:1},8,["onClick"])]),_:1}),e(s,{cols:"6",class:"text-right"},{default:o(()=>[e(d,{variant:"tonal",color:"primary","prepend-icon":"mdi-folder-outline",onClick:a[1]||(a[1]=l=>n.dialog=!0)},{default:o(()=>[r("Agregar Wish-List")]),_:1})]),_:1})]),_:1}),e(i,null,{default:o(()=>[(_(!0),f(w,null,S(n.wishlistArray,(l,J)=>(_(),q(s,{cols:"3",key:l._id},{default:o(()=>[e(b,{class:"mx-auto","max-width":"344"},{default:o(()=>[e(B,{height:"200px",src:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg",cover:""}),e(V,null,{default:o(()=>[r(m(l.wishlist_name),1)]),_:2},1024),e(E,null,{default:o(()=>[r("Presupuesto: "+m(l.budget),1)]),_:2},1024),e(C,null,{default:o(()=>[e(d,{color:"orange-lighten-2",onClick:c=>n.toggleDetails(l._id)},{default:o(()=>[r("Ver Productos")]),_:2},1032,["onClick"]),e($),e(d,{icon:n.showDetails[l._id]?"mdi-chevron-up":"mdi-chevron-down",onClick:c=>n.toggleDetails(l._id)},null,8,["icon","onClick"])]),_:2},1024),e(N,null,{default:o(()=>[F(u("div",null,[e(P),e(y,null,{default:o(()=>[u("ul",null,[(_(!0),f(w,null,S(l.product,c=>(_(),f("li",{key:c._id},m(c.product_name)+" - Precio: "+m(c.price)+" - Cantidad: "+m(c.quantity),1))),128))])]),_:2},1024)],512),[[M,n.showDetails[l._id]]])]),_:2},1024),e(s,null,{default:o(()=>[e(d,{onClick:n.openModal,color:"red",density:"compact"},{default:o(()=>[e(W,null,{default:o(()=>[r("mdi-trash-can-outline")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(A,{modelValue:n.modalOpen,"onUpdate:modelValue":a[2]||(a[2]=l=>n.modalOpen=l),persistent:"","max-width":"500px"},{default:o(()=>[e(b,null,{default:o(()=>[e(V,null,{default:o(()=>[T]),_:1}),e(y,null,{default:o(()=>[r(" ¿Estás seguro de que deseas eliminar esto? ")]),_:1}),e(C,null,{default:o(()=>[e(d,{color:"red",onClick:n.confirmDeletion},{default:o(()=>[r("Eliminar")]),_:1},8,["onClick"]),e(d,{onClick:n.closeModal},{default:o(()=>[r("Cancelar")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u("div",z,[e(A,{modelValue:n.dialog,"onUpdate:modelValue":a[5]||(a[5]=l=>n.dialog=l),"max-width":"600"},{default:o(()=>[e(b,{"prepend-icon":"mdi-folder-outline",title:"Agregar Wish-List"},{default:o(()=>[e(y,null,{default:o(()=>[e(i,{dense:""},{default:o(()=>[e(s,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(p,{label:"Item",required:""})]),_:1}),e(s,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(p,{hint:"Rack",label:"Rack"})]),_:1}),e(s,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(p,{hint:"Stock",label:"Stock"})]),_:1}),e(s,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(p,{hint:"ID",label:"ID"})]),_:1})]),_:1})]),_:1}),e(P),e(C,null,{default:o(()=>[e($),e(d,{text:"Close",variant:"plain",onClick:a[3]||(a[3]=l=>n.dialog=!1)}),e(d,{color:"primary",text:"Save",variant:"tonal",onClick:a[4]||(a[4]=l=>n.dialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}const Y=x(G,[["render",H]]);export{Y as default};
